# 요구사항

* 자유 게시판 /notice : 회원이 아닌 사람도 R 가능, 회원인 사람만 C
* 자유 게시물 상세보기 /notice/int:post_pk: 회원이 아닌 사람도 R 가능, 작성자만 UD 가능
* 회원 게시판 /blog : 회원인 사람만 R, C 가능
* 회원 게시물 상세보기 /blog/int:post_pk: 회원인 사람만 R, 작성자만 UD 가능

* FBV DRF로 구현 => CBV DRF로 구현
* test 코드 작성

# 프로젝트 설계

## URL 설계
| URL                      | 기능     | 비회원 접근 | 회원 접근 | 작성자 접근 |
|--------------------------|----------|-------------|-----------|-------------|
| /notice                  | 자유 게시판 | R           | R, C      | -           |
| /notice/int:post_pk      | 자유 게시물 상세보기 | R    | R         | R, U, D     |
| /blog                    | 회원 게시판 | -           | R, C      | -           |
| /blog/int:post_pk        | 회원 게시물 상세보기 | -      | R         | R, U, D     |

기능 설명:
- R: Read (읽기)
- C: Create (생성)
- U: Update (수정)
- D: Delete (삭제)


```python
# deactivate
mkdir drf-CBV
cd drf-CBV
python -m venv venv
# source venv/Scripts/activate
.\venv\Scripts\activate
pip install django
pip install djangorestframework
django-admin startproject config .
python manage.py startapp notice
python manage.py startapp blog
python manage.py migrate
python manage.py createsuperuser

###################################

leehojun
leehojun@gmail.com
이호준1234!

###################################
# config > settings.py

INSTALLED_APPS = [
    "django.contrib.admin",
    "django.contrib.auth",
    "django.contrib.contenttypes",
    "django.contrib.sessions",
    "django.contrib.messages",
    "django.contrib.staticfiles",
    # third party apss
    "rest_framework",
    # my apps
    "notice",
    "blog",
]

# ... 중략 ...

LANGUAGE_CODE = 'ko-kr'

TIME_ZONE = 'Asia/Seoul'


###################################
# blog > models.py

from django.db import models
from django.conf import settings


class Post(models.Model):
    author = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    title = models.CharField(max_length=100)
    content = models.TextField()

    def __str__(self):
        return self.title

###################################
# blog > serializers.py

from rest_framework import serializers
from .models import Post


class PostSerializer(serializers.ModelSerializer):
    class Meta:
        model = Post
        fields = "__all__"

###################################
# notice > models.py

from django.db import models
from django.conf import settings


class PostNotice(models.Model):
    author = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
    title = models.CharField(max_length=100)
    content = models.TextField()

    def __str__(self):
        return self.title

###################################
# notice > serializers.py

from rest_framework import serializers
from .models import PostNotice


class PostSerializer(serializers.ModelSerializer):
    class Meta:
        model = PostNotice
        fields = "__all__"

###################################
# blog > admin.py

from django.contrib import admin
from .models import Post


admin.site.register(Post)

###################################
# notice > admin.py

from django.contrib import admin
from .models import PostNotice


admin.site.register(PostNotice)

###################################

python manage.py makemigrations
python manage.py migrate

###################################

python manage.py runserver

###################################

# 접속 후 게시물 각각 3개씩 작성

###################################
# config > urls.py

from django.contrib import admin
from django.urls import path
from django.urls import include

urlpatterns = [
    path("admin/", admin.site.urls),
    path("blog/", include("blog.urls")),
    path("notice/", include("notice.urls")),
]


###################################
# blog > urls.py

from django.urls import path
from .views import post_list, post_detail

urlpatterns = [
    path("", post_list, name="post_list"),
    path("<int:pk>/", post_detail, name="post_detail"),
]


###################################
# notice > urls.py

from django.urls import path
from .views import notice_list, notice_detail

urlpatterns = [
    path("", notice_list, name="notice_list"),
    path("<int:pk>/", notice_detail, name="notice_detail"),
]

###################################

```